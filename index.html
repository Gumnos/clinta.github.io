<!doctype html> 
<html lang="en-us"> 
<head>
	<meta name="generator" content="Hugo 0.18-DEV" />
  <meta charset="utf-8">
  <title>Devops Discoveries</title>
  <meta name="author" content="Clint Armstrong">
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="icon" href="/favicon.png" />
  <link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png" />

  
  <link rel="stylesheet" href="/style.css" />
  
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-58778705-1', 'auto');
ga('send', 'pageview');
</script>

</head>

<body class="">

  <div class="header center">
    <ul class="navbar">
	
	
		<li class="navbar"><a class="navbar" href="/">Posts</a></li>
	
	
	
		<li class="navbar"><a class="navbar" href="/resume">Résumé</a></li>
	
	
	
		<li class="navbar"><a class="navbar" href="https://twitter.com/clinta">Twitter</a></li>
	
	
	</ul>
  </div>

  <div class="wrap">
    <header class="mb">
      <h1 class="h2 m-0"><a href="/">Devops Discoveries</a></h1>
      <p class="site-description"></p>
    </header>

<main class="posts">
  <article class="post">
	
      <h1><a href="https://clinta.github.io/moving-to-hugo/">Moving to Hugo</a></h1>
      <p>If you notice things look a little different here, it&rsquo;s because I&rsquo;ve given up on Jekyll. Ever since github upgraded it I&rsquo;ve not been happy with how it does syntax highlighting and I&rsquo;ve been looking for alternatives. Hugo looks promising, and that&rsquo;s what I&rsquo;m trying now. Sometime soon I&rsquo;ll blog about my CI setup once it&rsquo;s running the way I like.</p>
	  <p class="small"><a href="https://clinta.github.io/moving-to-hugo/">2016-10-12</a></p>
    
      <h1><a href="https://clinta.github.io/salt-git-nogitfs/">Salt git integration without gitfs</a></h1>
      <p>SaltStack has some pretty cool git integration. Unfortunately it also has quite a few bugs, especially when using gitfs for pillars.
These issues can be annoying at small scale, but they can become very important as you add more minions. To work around these I looked for ways I could simplify our salt/git integration and now that it&rsquo;s complete I couldn&rsquo;t be happier.
With a post-receive hook on my gitlab server and a salt master that is also a minion, the salt server updates it&rsquo;s file root&rsquo;s directory from git without the salt-master process having to do any interfacing with git at all.</p>
	  <p class="small"><a href="https://clinta.github.io/salt-git-nogitfs/">2015-12-15</a></p>
    
      <h1><a href="https://clinta.github.io/random-local-passwords/">Random root passwords with saltstack.</a></h1>
      <p>Common passwords for devices is a significant security risk, but maintaining unique passwords for every server is nearly impossible without some password manager. But manually generating passwords for hundreds of servers and putting them into a password manager is just not practical. Here is a way to have your salt master generate complex random passwords for each minion and store them in a password manager where you can retrieve them later.</p>
	  <p class="small"><a href="https://clinta.github.io/random-local-passwords/">2015-09-24</a></p>
    
      <h1><a href="https://clinta.github.io/diy-sbs-for-office-365-unified-messaging/">Building your own Session Boarder Controller for SIP communication with Office 365.</a></h1>
      <p>If you&rsquo;re looking to connect an on-premise VOIP phone system to Office 365 you&rsquo;ll find several documents stating that you must purchase a session border controller, and a list of supported vendors. But if you&rsquo;re the kind of person who would rather take an unsupported approach than install yet another black box on your network, it can be done. In this guide I&rsquo;ll share what I&rsquo;ve learned over the last two weeks in building my own session boarder controller with open source software.</p>
	  <p class="small"><a href="https://clinta.github.io/diy-sbs-for-office-365-unified-messaging/">2015-08-24</a></p>
    
      <h1><a href="https://clinta.github.io/freebsd-jails-the-hard-way/">FreeBSD Jails the hard way</a></h1>
      <p>There are many great options for managing FreeBSD Jails. iocage, warden and ez-jail aim to streamline the process and make it quick an easy to get going. But sometimes the tools built right into the OS are overlooked.
This post goes over what is involved in creating and managing jails using only the tools built into FreeBSD.
For this guide, I&rsquo;m going to be putting my jails in /usr/local/jails.</p>
	  <p class="small"><a href="https://clinta.github.io/freebsd-jails-the-hard-way/">2015-08-09</a></p>
    
      <h1><a href="https://clinta.github.io/change-upn-to-email-with-powershell/">Changing UPN to Email with Powershell</a></h1>
      <p>If you need a quick way to change the UPN of all your users in active directory to match their email address, PowerShell makes it easy.
$users = get-aduser -SearchBase "OU=Users,DC=ad,DC=contoso,DC=com" -Filter * -Properties EmailAddress | where {$_.EmailAddress -ne $null -AND $_.EmailAddress.toLower() -ne $_.UserPrincipalName.toLower()} foreach ($user in $users) { $forest = Get-ADForest $email = $user.EmailAddress $username = $email.toLower().Split('@')[0] $userdomain = $email.toLower().Split('@')[1] if (-Not $($forest.UPNSuffixes).Contains($userdomain)) { $forest | Set-ADForest -UPNSuffixes @{Add="$userdomain"} } $user | Set-ADUser -UserPrincipalName "</p>
	  <p class="small"><a href="https://clinta.github.io/change-upn-to-email-with-powershell/">2015-08-07</a></p>
    
      <h1><a href="https://clinta.github.io/mongodb-for-collectd/">Compiling the mongodb plugin for collectd</a></h1>
      <p>The MongoDB plugin for collectd is currently unfinished and hasn&rsquo;t had active development since 2012. Fortunately the folks at Stackdriver have fixed some of the issues so that the plugin works for their stackdriver agent, which is based on collectd. Unfortunately this code has not been submitted back upstream to collectd.
This means that if you want to monitor your own mongodb instances with collectd you&rsquo;ll need to build it yourself.</p>
	  <p class="small"><a href="https://clinta.github.io/mongodb-for-collectd/">2015-06-30</a></p>
    
      <h1><a href="https://clinta.github.io/secure-corporate-apt-repo/">Creating a Secure Corporate Apt Repository with Salt</a></h1>
      <p>There are many reasons an organization could use it&rsquo;s own internal apt repository. But controlling access to this repository for clients that are outside your internal network can be difficult. But if your repository contains proprietary or confidential packages, securing access is not optional. Thankfully apt supports client authentication with SSL certificates. And with the new x509 module, managing these certificates can be made fully automatic.
The x509 module is not yet in the latest release of salt, so you&rsquo;ll need to manually add it to your custom paths.</p>
	  <p class="small"><a href="https://clinta.github.io/secure-corporate-apt-repo/">2015-04-04</a></p>
    
      <h1><a href="https://clinta.github.io/salt-x509-details/">X509 Certificates in Salt, implementation details</a></h1>
      <p>Saltstack has recently accepted my pull request and integrated the x509 module I&rsquo;ve spent the last few weeks working on. Most of it&rsquo;s functionality including a complete PKI example is explained in the documentation, this blog post is to go over some more of the details of how and why I made it for anyone who may not want to just read the source code.
I started out with a need to manage X509 certificates for geographically distributed linux based VPN routers.</p>
	  <p class="small"><a href="https://clinta.github.io/salt-x509-details/">2015-04-02</a></p>
    
      <h1><a href="https://clinta.github.io/embracing-binary-for-beautiful-networks/">Embracing Binary for Beautiful Networks</a></h1>
      <p>During my time working for an MSP I got to see many different networks with many different techniques for mapping vlan numbers to subnets, but all of them left me dissatisfied. The biggest problem was that they were always destgned to try to make some sense to people looking at the numbers as they&rsquo;re most commonly written. Vlan numbers in decimal and IP addresses in dotted decimal. But these are just incompatible.</p>
	  <p class="small"><a href="https://clinta.github.io/embracing-binary-for-beautiful-networks/">2015-03-07</a></p>
    
      <h1><a href="https://clinta.github.io/salt-user-management/">Managing Users with Salt</a></h1>
      <p>This post has gone through a few iterations. You can see the full history on the github repo.
One of the great things about a configuration management solution like Salt is the ability to centrally manage local users. Sure LDAP and Kerberos are great, but sometimes it&rsquo;s better to keep things simple, that&rsquo;s what I&rsquo;m doing with Salt. Leveraging Pillars I can define certain users to be added to servers of a given role.</p>
	  <p class="small"><a href="https://clinta.github.io/salt-user-management/">2015-03-07</a></p>
    
      <h1><a href="https://clinta.github.io/automated-pxe-ubuntu-installs/">Automated Ubuntu Installation with PXE, Preseeds and Apt-Cacher-NG (and UEFI compatible)</a></h1>
      <p>Doing repetitive installs can be a pain, and figuring out how to make it easier can be even more of a pain since everybody has their own preferred system. Most searching for how to do this for Ubuntu will lead you to Cobbler. Cobbler isn&rsquo;t a bad tool, but it&rsquo;s not a good fit for me. It takes away most of the ability to customize pxelinux without learning their templating language.</p>
	  <p class="small"><a href="https://clinta.github.io/automated-pxe-ubuntu-installs/">2015-01-28</a></p>
    
      <h1><a href="https://clinta.github.io/freenas-multipurpose-ssd/">Using one pair of SSDs for both ZIL and L2ARC in FreeNAS</a></h1>
      <p>I&rsquo;m a big fan of ZFS, and a big fan of FreeNAS. But some times the options avaliable in the FreeNAS GUI can&rsquo;t quite do everything. Using one disk for more than one purpose is one of those things. At $dayjob we&rsquo;re going to be using a new FreeNAS server for iSCSI datastores for VMWare. This is one of those instances where a ZIL can really improve performance because there is potential for a lot of synchronious writes from VMs hosting databases.</p>
	  <p class="small"><a href="https://clinta.github.io/freenas-multipurpose-ssd/">2015-01-21</a></p>
    
  </article>
</main>
</div>

</body>
</html>

